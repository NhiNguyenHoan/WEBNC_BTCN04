(this["webpackJsonpreact-hooks-crud"]=this["webpackJsonpreact-hooks-crud"]||[]).push([[0],{53:function(e,t,n){e.exports=n(82)},82:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(23),l=n.n(o),r=n(22),i=n(18),u=(n(58),n(20)),d=n(24),m=n(15),s=n(49),f=n.n(s).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),E=function(){return f.get("/boards")},h=function(e){return f.get("/boards/".concat(e))},g=function(e){return f.get("/boards/single/".concat(e))},p=function(e){return f.post("/boards",e)},b=function(e,t){return f.put("/boards/".concat(e),t)},v=function(e){return f.delete("/boards/".concat(e))},j=function(){return f.delete("/boards")},C=function(e){return f.get("/boards?title=".concat(e))},k=n(12),O=n(6),_=n(21),w=n(11),y=function(){var e={id:null,user_id:1,title:"",description:""},t=Object(a.useState)(e),n=Object(m.a)(t,2),o=n[0],l=n[1],r=Object(a.useState)(!1),i=Object(m.a)(r,2),s=i[0],f=i[1],E=function(e){var t=e.target,n=t.name,a=t.value;l(Object(d.a)({},o,Object(u.a)({},n,a)))};return c.a.createElement(O.a,null,s?c.a.createElement("div",null,c.a.createElement("h4",null,"You submitted successfully!"),c.a.createElement(k.a,{variant:"success",onClick:function(){l(e),f(!1)}},"Add")):c.a.createElement("div",null,c.a.createElement(O.a.Group,{as:_.a},c.a.createElement(O.a.Label,{column:!0,sm:"2"},"Title"),c.a.createElement(w.a,{sm:"10"},c.a.createElement(O.a.Control,{id:"title",required:!0,value:o.title,onChange:E,name:"title"}))),c.a.createElement(O.a.Group,{as:_.a},c.a.createElement(O.a.Label,{column:!0,sm:"2"},"Description"),c.a.createElement(w.a,{sm:"10"},c.a.createElement(O.a.Control,{id:"description",required:!0,value:o.description,onChange:E,name:"description"}))),c.a.createElement(k.a,{variant:"success",type:"submit",onClick:function(){var e={user_id:1,title:o.title,description:o.description};p(e).then((function(e){l({id:e.data.id,user_id:1,title:e.data.title,description:e.data.description}),f(!0),console.log(e.data)})).catch((function(e){console.log(e)}))}},"Submit")))},x=n(7),B=n(33),N=n(35),S=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(""),i=Object(m.a)(l,2),u=i[0],d=i[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){E().then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},f=function(){s()};return c.a.createElement(_.a,null,c.a.createElement(w.a,{md:8},c.a.createElement(N.a,{className:"mb-3"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search by title",value:u,onChange:function(e){var t=e.target.value;d(t)}}),c.a.createElement(N.a.Append,null,c.a.createElement(k.a,{variant:"dark",onClick:function(){C(u).then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}},"Search")))),c.a.createElement(w.a,{md:8},c.a.createElement("h4",null,"My Boards"),c.a.createElement(B.a,null,n&&n.map((function(e){return c.a.createElement(x.a,null,c.a.createElement(x.a.Img,{variant:"top",src:"../images/1.jpg"}),c.a.createElement(x.a.Body,null,c.a.createElement(x.a.Title,null,e.title),c.a.createElement(x.a.Text,null,e.description)),c.a.createElement(x.a.Footer,null,c.a.createElement(r.b,{to:{pathname:"/boards/".concat(e.id)}},c.a.createElement(k.a,{variant:"dark"},"View")),c.a.createElement(k.a,{className:"ml-2",variant:"danger",onClick:function(){var t;t=e.id,v(t).then((function(e){console.log(e.data),f()})).catch((function(e){console.log(e)}))}}," Delete ")))}))),c.a.createElement(k.a,{size:"sm",onClick:function(){j().then((function(e){console.log(e.data),f()})).catch((function(e){console.log(e)}))}},"Remove All")))},D=function(e){return f.post("/cards",e)},A=function(e){return f.delete("/cards/".concat(e))},T=function(e){var t=e.match,n=Object(a.useState)({card_id:null,board_id:null,column_index:"",content:""}),o=Object(m.a)(n,2),l=o[0],r=o[1],i=Object(a.useState)([]),s=Object(m.a)(i,2),f=s[0],E=s[1],p=Object(a.useState)({id:null,title:"",description:""}),v=Object(m.a)(p,2),j=v[0],C=v[1],y=t.params.id;Object(a.useEffect)((function(){B(y),N(y)}),[]);var B=function(e){h(e).then((function(e){E(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},N=function(e){g(e).then((function(e){C(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},S=function(e){A(e).then((function(e){console.log(e.data),B(y)})).catch((function(e){console.log(e)}))},T=function(e){13===e.keyCode&&function(e){console.log("save a card");var t={board_id:y,column_index:e,content:l.content};D(t).then((function(e){r({card_id:e.data.card_id,board_id:e.data.board_id,column_index:e.data.column_index,content:e.data.content}),console.log(e.data)})).catch((function(e){console.log(e)}))}(1)},q=function(e){var t=e.target,n=t.name,a=t.value;console.log("event target"+e.target),r(Object(d.a)({},l,Object(u.a)({},n,a)))};return c.a.createElement("div",null,c.a.createElement(O.a,{className:"mb-5"},c.a.createElement(O.a.Control,{id:"title",required:!0,value:j.title,onChange:function(e){var t=e.target,n=t.name,a=t.value;console.log("event target"+e.target),C(Object(d.a)({},j,Object(u.a)({},n,a)))},onKeyDown:function(e){13===e.keyCode&&function(){console.log("save board");var e={id:j.id,title:j.title,description:j.description};b(y,e).then((function(e){C({id:e.data.id,title:e.data.title,description:e.data.description}),console.log(e.data)})).catch((function(e){console.log(e)}))}()},name:"title"})),c.a.createElement(_.a,null,c.a.createElement(w.a,null,c.a.createElement("h4",null,"Went Well"),c.a.createElement(O.a,{className:"mb-5"},c.a.createElement(O.a.Control,{id:"content",required:!0,value:l.content,onChange:q,onKeyDown:T,name:"content",placeholder:"Add new went well item +"})),f&&f.filter((function(e){return 1===e.column_index})).map((function(e){return c.a.createElement(x.a,null,c.a.createElement(x.a.Body,null,c.a.createElement(x.a.Text,null,e.content),c.a.createElement(k.a,{variant:"danger",onClick:function(){S(e.card_id)}}," Delete ")))}))),c.a.createElement(w.a,null,c.a.createElement("h4",null,"To Improve"),c.a.createElement(O.a,{className:"mb-5"},c.a.createElement(O.a.Control,{id:"content",required:!0,value:l.content,onChange:q,onKeyDown:T,name:"content",placeholder:"Add new improve item +"})),f&&f.filter((function(e){return 2===e.column_index})).map((function(e){return c.a.createElement(x.a,null,c.a.createElement(x.a.Body,null,c.a.createElement(x.a.Text,null,e.content),c.a.createElement(k.a,{variant:"danger",onClick:function(){S(e.card_id)}}," Delete ")))}))),c.a.createElement(w.a,null,c.a.createElement("h4",null,"Action"),c.a.createElement(O.a,{className:"mb-5"},c.a.createElement(O.a.Control,{id:"content",required:!0,value:l.content,onChange:q,onKeyDown:T,name:"content",placeholder:"Add new action item +"})),f&&f.filter((function(e){return 3===e.column_index})).map((function(e){return c.a.createElement(x.a,null,c.a.createElement(x.a.Body,null,c.a.createElement(x.a.Text,null,e.content),c.a.createElement(k.a,{variant:"danger",onClick:function(){S(e.card_id)}}," Delete ")))})))))},q=n(38),L=n(30),K=n(52);var W=function(){return c.a.createElement("div",null,c.a.createElement(q.a,{bg:"dark",variant:"dark"},c.a.createElement(q.a.Brand,{href:"/"},"Retro"),c.a.createElement(L.a,{className:"mr-auto"},c.a.createElement(L.a.Link,{href:"/boards"},"Boards List"),c.a.createElement(L.a.Link,{href:"/add"},"Add New Board"))),c.a.createElement(K.a,{className:"mt-5"},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:["/","/boards"],component:S}),c.a.createElement(i.a,{exact:!0,path:"/add",component:y}),c.a.createElement(i.a,{path:"/boards/:id",component:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(r.a,null,c.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.103578af.chunk.js.map